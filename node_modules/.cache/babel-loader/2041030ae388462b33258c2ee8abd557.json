{"ast":null,"code":"import _slicedToArray from \"/home/rakshanda/Music/assignment/search-in-react-table-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"/home/rakshanda/Music/assignment/search-in-react-table-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/rakshanda/Music/assignment/search-in-react-table-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/rakshanda/Music/assignment/search-in-react-table-forked/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Table, Input, Pagination } from \"antd\";\nimport axios from \"axios\";\nimport { userColumns } from \"./columns\";\nimport { useTableSearch } from \"./useTableSearch\";\nimport \"antd/dist/antd.css\";\nimport \"./styling.css\";\nvar Search = Input.Search;\n\nvar fetchUsers = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _yield$axios$get, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios.get(\"https://vast-shore-74260.herokuapp.com/banks?city=MUMBAI\");\n\n          case 2:\n            _yield$axios$get = _context.sent;\n            data = _yield$axios$get.data;\n            return _context.abrupt(\"return\", {\n              data: data\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchUsers() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default function App() {\n  var _useState = useState(localStorage.getItem(\"q1\")),\n      _useState2 = _slicedToArray(_useState, 2),\n      keys = _useState2[0],\n      setKeys = _useState2[1];\n\n  useEffect(function () {\n    localStorage.setItem(\"q1\", JSON.stringify(keys));\n  }, [keys]); // var a;\n  // useEffect(() => {\n  //   a = localStorage.getItem(\"q\");\n  //   console.log(a);\n  // }, []);\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchVal = _useState4[0],\n      setSearchVal = _useState4[1]; // const [selectedRowKeys] = useState(null);\n  // var storage = localStorage.getItem(\"selection\");\n  // console.log(storage);\n\n\n  var _useTableSearch = useTableSearch({\n    searchVal: searchVal,\n    retrieve: fetchUsers\n  }),\n      filteredData = _useTableSearch.filteredData,\n      loading = _useTableSearch.loading;\n\n  function onChange2(pageNumber) {\n    console.log(\"Page: \", pageNumber);\n  }\n\n  var rowSelection = {\n    onChange: function onChange(selectedRowKeys, selectedRows) {\n      setKeys(selectedRowKeys);\n      localStorage.setItem(\"q\", JSON.stringify(selectedRowKeys));\n      console.log(localStorage.getItem(\"q\")); // console.log(\n      //   `selectedRowKeys: ${selectedRowKeys}`,\n      //   \"selectedRows: \",\n      //   selectedRows\n      // );\n    },\n    selectedRowKeys: keys,\n    getCheckboxProps: function getCheckboxProps(record) {\n      return {\n        disabled: record.ifsc === \"Disabled User\",\n        ifsc: record.ifsc,\n        className: \"checkbox-red\"\n      };\n    }\n  }; // var dataSource2 = this.storage;\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    onChange: function onChange(e) {\n      return setSearchVal(e.target.value);\n    },\n    placeholder: \"Search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    rowSelection: rowSelection,\n    rowKey: \"ifsc\",\n    dataSource: filteredData,\n    columns: userColumns,\n    loading: loading,\n    pagination: /*#__PURE__*/React.createElement(Pagination, {\n      size: \"small\",\n      showSizeChanger: true,\n      showQuickJumper: true,\n      defaultCurrent: 2,\n      total: 500,\n      onChange: onChange2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/home/rakshanda/Music/assignment/search-in-react-table-forked/src/App.js"],"names":["React","useState","useEffect","Table","Input","Pagination","axios","userColumns","useTableSearch","Search","fetchUsers","get","data","App","localStorage","getItem","keys","setKeys","setItem","JSON","stringify","searchVal","setSearchVal","retrieve","filteredData","loading","onChange2","pageNumber","console","log","rowSelection","onChange","selectedRowKeys","selectedRows","getCheckboxProps","record","disabled","ifsc","className","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Table, Input, Pagination } from \"antd\";\nimport axios from \"axios\";\nimport { userColumns } from \"./columns\";\nimport { useTableSearch } from \"./useTableSearch\";\nimport \"antd/dist/antd.css\";\nimport \"./styling.css\";\n\nconst { Search } = Input;\n\nconst fetchUsers = async () => {\n  const { data } = await axios.get(\n    \"https://vast-shore-74260.herokuapp.com/banks?city=MUMBAI\"\n  );\n  return { data };\n};\n\nexport default function App() {\n  const [keys, setKeys] = useState(localStorage.getItem(\"q1\"));\n  useEffect(() => {\n    localStorage.setItem(\"q1\", JSON.stringify(keys));\n  }, [keys]);\n  // var a;\n  // useEffect(() => {\n  //   a = localStorage.getItem(\"q\");\n  //   console.log(a);\n  // }, []);\n\n  const [searchVal, setSearchVal] = useState(null);\n  // const [selectedRowKeys] = useState(null);\n  // var storage = localStorage.getItem(\"selection\");\n  // console.log(storage);\n\n  const { filteredData, loading } = useTableSearch({\n    searchVal,\n    retrieve: fetchUsers,\n  });\n  function onChange2(pageNumber) {\n    console.log(\"Page: \", pageNumber);\n  }\n\n  const rowSelection = {\n    onChange: (selectedRowKeys, selectedRows) => {\n      setKeys(selectedRowKeys);\n      localStorage.setItem(\"q\", JSON.stringify(selectedRowKeys));\n      console.log(localStorage.getItem(\"q\"));\n      // console.log(\n      //   `selectedRowKeys: ${selectedRowKeys}`,\n      //   \"selectedRows: \",\n      //   selectedRows\n      // );\n    },\n    selectedRowKeys: keys,\n    getCheckboxProps: (record) => ({\n      disabled: record.ifsc === \"Disabled User\",\n      ifsc: record.ifsc,\n      className: \"checkbox-red\",\n    }),\n  };\n\n  // var dataSource2 = this.storage;\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"container2\">\n          <Search\n            onChange={(e) => setSearchVal(e.target.value)}\n            placeholder=\"Search\"\n          />\n        </div>\n        <br /> <br />\n        <Table\n          rowSelection={rowSelection}\n          rowKey=\"ifsc\"\n          dataSource={filteredData}\n          columns={userColumns}\n          loading={loading}\n          pagination={\n            <Pagination\n              size=\"small\"\n              showSizeChanger\n              showQuickJumper\n              defaultCurrent={2}\n              total={500}\n              onChange={onChange2}\n            />\n          }\n        />\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}