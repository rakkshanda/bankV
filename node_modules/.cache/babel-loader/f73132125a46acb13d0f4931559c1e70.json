{"ast":null,"code":"import _defineProperty from \"/home/rakshanda/Music/assignment/search-in-react-table-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/home/rakshanda/Music/assignment/search-in-react-table-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"/home/rakshanda/Music/assignment/search-in-react-table-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/rakshanda/Music/assignment/search-in-react-table-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/rakshanda/Music/assignment/search-in-react-table-forked/src/App.js\";\nimport React, { useState } from \"react\";\nimport { Table, Input, Pagination } from \"antd\";\nimport axios from \"axios\";\nimport { userColumns } from \"./columns\";\nimport { useTableSearch } from \"./useTableSearch\";\nimport \"antd/dist/antd.css\";\nimport \"./styling.css\";\nvar Search = Input.Search;\n\nvar fetchUsers = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _yield$axios$get, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios.get(\"https://vast-shore-74260.herokuapp.com/banks?city=MUMBAI\");\n\n          case 2:\n            _yield$axios$get = _context.sent;\n            data = _yield$axios$get.data;\n            return _context.abrupt(\"return\", {\n              data: data\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchUsers() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default function App() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchVal = _useState2[0],\n      setSearchVal = _useState2[1];\n\n  var storage = localStorage.getItem(\"selection\");\n  console.log(storage);\n\n  var _useTableSearch = useTableSearch({\n    searchVal: searchVal,\n    retrieve: fetchUsers\n  }),\n      filteredData = _useTableSearch.filteredData,\n      loading = _useTableSearch.loading;\n\n  function onChange2(pageNumber) {\n    console.log(\"Page: \", pageNumber);\n  }\n\n  var rowSelection = {\n    onChange: function onChange(selectedRowKeys, selectedRows) {\n      localStorage.setItem(\"selection\", JSON.stringify(selectedRows)); // var storage = localStorage.getItem(\"selection\");\n      // console.log(storage);\n      // console.log(\n      //   `selectedRowKeys: ${selectedRowKeys}`,\n      //   \"selectedRows: \",\n      //   selectedRows\n      // );\n    },\n    getCheckboxProps: function getCheckboxProps(record) {\n      return {\n        disabled: record.ifsc === \"Disabled User\",\n        ifsc: record.ifsc,\n        className: \"checkbox-red\"\n      };\n    }\n  };\n\n  toggleCheckboxChange = function toggleCheckboxChange(e) {\n    e.preventDefault();\n\n    if (e.target.type === \"checkbox\") {\n      localStorage.setItem(_defineProperty({}, e.target.id, e.target.checked));\n    }\n  }; // var dataSource2 = this.storage;\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    onChange: function onChange(e) {\n      return setSearchVal(e.target.value);\n    },\n    placeholder: \"Search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    rowSelection: rowSelection,\n    onChange: this.toggleCheckboxChange,\n    rowKey: \"ifsc\",\n    dataSource: filteredData,\n    columns: userColumns,\n    loading: loading,\n    pagination: /*#__PURE__*/React.createElement(Pagination, {\n      size: \"small\",\n      showSizeChanger: true,\n      showQuickJumper: true,\n      defaultCurrent: 2,\n      total: 500,\n      onChange: onChange2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, \"Favourites\"), /*#__PURE__*/React.createElement(Table, {\n    rowKey: \"ifsc\" // dataSource={storage}\n    ,\n    columns: userColumns,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/home/rakshanda/Music/assignment/search-in-react-table-forked/src/App.js"],"names":["React","useState","Table","Input","Pagination","axios","userColumns","useTableSearch","Search","fetchUsers","get","data","App","searchVal","setSearchVal","storage","localStorage","getItem","console","log","retrieve","filteredData","loading","onChange2","pageNumber","rowSelection","onChange","selectedRowKeys","selectedRows","setItem","JSON","stringify","getCheckboxProps","record","disabled","ifsc","className","toggleCheckboxChange","e","preventDefault","target","type","id","checked","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Table, Input, Pagination } from \"antd\";\nimport axios from \"axios\";\nimport { userColumns } from \"./columns\";\nimport { useTableSearch } from \"./useTableSearch\";\nimport \"antd/dist/antd.css\";\nimport \"./styling.css\";\n\nconst { Search } = Input;\n\nconst fetchUsers = async () => {\n  const { data } = await axios.get(\n    \"https://vast-shore-74260.herokuapp.com/banks?city=MUMBAI\"\n  );\n  return { data };\n};\n\nexport default function App() {\n  const [searchVal, setSearchVal] = useState(null);\n\n  var storage = localStorage.getItem(\"selection\");\n  console.log(storage);\n\n  const { filteredData, loading } = useTableSearch({\n    searchVal,\n    retrieve: fetchUsers,\n  });\n  function onChange2(pageNumber) {\n    console.log(\"Page: \", pageNumber);\n  }\n\n  const rowSelection = {\n    onChange: (selectedRowKeys, selectedRows) => {\n      localStorage.setItem(\"selection\", JSON.stringify(selectedRows));\n      // var storage = localStorage.getItem(\"selection\");\n      // console.log(storage);\n      // console.log(\n      //   `selectedRowKeys: ${selectedRowKeys}`,\n      //   \"selectedRows: \",\n      //   selectedRows\n      // );\n    },\n    getCheckboxProps: (record) => ({\n      disabled: record.ifsc === \"Disabled User\",\n      ifsc: record.ifsc,\n      className: \"checkbox-red\",\n    }),\n  };\n  toggleCheckboxChange = (e) => {\n    e.preventDefault();\n    if (e.target.type === \"checkbox\") {\n      localStorage.setItem({ [e.target.id]: e.target.checked });\n    }\n  };\n  // var dataSource2 = this.storage;\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"container2\">\n          <Search\n            onChange={(e) => setSearchVal(e.target.value)}\n            placeholder=\"Search\"\n          />\n        </div>\n        <br /> <br />\n        <Table\n          rowSelection={rowSelection}\n          onChange={this.toggleCheckboxChange}\n          rowKey=\"ifsc\"\n          dataSource={filteredData}\n          columns={userColumns}\n          loading={loading}\n          pagination={\n            <Pagination\n              size=\"small\"\n              showSizeChanger\n              showQuickJumper\n              defaultCurrent={2}\n              total={500}\n              onChange={onChange2}\n            />\n          }\n        />\n        <h1>Favourites</h1>\n        <Table\n          rowKey=\"ifsc\"\n          // dataSource={storage}\n          columns={userColumns}\n          loading={loading}\n        />\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}