{"ast":null,"code":"import _toConsumableArray from \"/home/rakshanda/Music/assignment/a/banksearch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/rakshanda/Music/assignment/a/banksearch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"/home/rakshanda/Music/assignment/a/banksearch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/rakshanda/Music/assignment/a/banksearch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/rakshanda/Music/assignment/a/banksearch/src/App.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Table, Input, Pagination } from \"antd\";\nimport axios from \"axios\";\nimport { userColumns } from \"./columns\";\nimport { useTableSearch } from \"./useTableSearch\";\nimport \"antd/dist/antd.css\";\nimport \"./styling.css\";\nvar Search = Input.Search;\n\nvar fetchUsers = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _yield$axios$get, data, _JSON$parse, data2;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios.get(\"https://vast-shore-74260.herokuapp.com/banks?city=MUMBAI\");\n\n          case 2:\n            _yield$axios$get = _context.sent;\n            data = _yield$axios$get.data;\n            console.log(data);\n            localStorage.setItem(\"cachedata\", JSON.stringify(data)); // console.log(JSON.parse(localStorage.getItem(\"cachedata\")));\n\n            _JSON$parse = JSON.parse(localStorage.getItem(\"cachedata\")), data2 = _JSON$parse.data2;\n            return _context.abrupt(\"return\", {\n              data2: data2\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchUsers() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default function App() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchVal = _useState2[0],\n      setSearchVal = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      keys = _useState4[0],\n      setKeys = _useState4[1]; // eslint-disable-next-line\n\n\n  useEffect(function () {\n    var getKeys = JSON.parse(localStorage.getItem(\"selection\") || \"0\");\n\n    if (getKeys !== 0) {\n      setKeys(getKeys);\n    }\n  }, []);\n\n  var _useTableSearch = useTableSearch({\n    searchVal: searchVal,\n    retrieve: fetchUsers\n  }),\n      filteredData = _useTableSearch.filteredData,\n      loading = _useTableSearch.loading;\n\n  function onChange2(pageNumber) {\n    console.log(\"Page: \", pageNumber);\n  } // console.log(\"keys\", keys);\n\n\n  var rowSelection = {\n    onChange: function onChange(selectedRowKeys, selectedRows) {\n      setKeys(_toConsumableArray(selectedRowKeys));\n      localStorage.setItem(\"selection\", JSON.stringify(selectedRowKeys));\n    },\n    selectedRowKeys: keys\n  }; // var dataSource2 = this.storage;\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    onChange: function onChange(e) {\n      return setSearchVal(e.target.value);\n    },\n    placeholder: \"Search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    rowSelection: rowSelection,\n    rowKey: \"ifsc\",\n    dataSource: filteredData,\n    columns: userColumns,\n    loading: loading,\n    pagination: /*#__PURE__*/React.createElement(Pagination, {\n      size: \"small\",\n      showSizeChanger: true,\n      showQuickJumper: true,\n      defaultCurrent: 2,\n      total: 500,\n      onChange: onChange2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/home/rakshanda/Music/assignment/a/banksearch/src/App.js"],"names":["React","useEffect","useState","Table","Input","Pagination","axios","userColumns","useTableSearch","Search","fetchUsers","get","data","console","log","localStorage","setItem","JSON","stringify","parse","getItem","data2","App","searchVal","setSearchVal","keys","setKeys","getKeys","retrieve","filteredData","loading","onChange2","pageNumber","rowSelection","onChange","selectedRowKeys","selectedRows","e","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Table, Input, Pagination } from \"antd\";\nimport axios from \"axios\";\nimport { userColumns } from \"./columns\";\nimport { useTableSearch } from \"./useTableSearch\";\nimport \"antd/dist/antd.css\";\nimport \"./styling.css\";\n\nconst { Search } = Input;\n\nconst fetchUsers = async () => {\n  const { data } = await axios.get(\n    \"https://vast-shore-74260.herokuapp.com/banks?city=MUMBAI\"\n  );\n  console.log(data);\n  localStorage.setItem(\"cachedata\", JSON.stringify(data));\n  // console.log(JSON.parse(localStorage.getItem(\"cachedata\")));\n  const { data2 } = JSON.parse(localStorage.getItem(\"cachedata\"));\n\n  return { data2 };\n};\n\nexport default function App() {\n  const [searchVal, setSearchVal] = useState(null);\n  const [keys, setKeys] = useState([]);\n\n  // eslint-disable-next-line\n  useEffect(() => {\n    const getKeys = JSON.parse(localStorage.getItem(\"selection\") || \"0\");\n    if (getKeys !== 0) {\n      setKeys(getKeys);\n    }\n  }, []);\n\n  const { filteredData, loading } = useTableSearch({\n    searchVal,\n    retrieve: fetchUsers,\n  });\n  function onChange2(pageNumber) {\n    console.log(\"Page: \", pageNumber);\n  }\n\n  // console.log(\"keys\", keys);\n  const rowSelection = {\n    onChange: (selectedRowKeys, selectedRows) => {\n      setKeys([...selectedRowKeys]);\n      localStorage.setItem(\"selection\", JSON.stringify(selectedRowKeys));\n    },\n    selectedRowKeys: keys,\n  };\n\n  // var dataSource2 = this.storage;\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"container2\">\n          <Search\n            onChange={(e) => setSearchVal(e.target.value)}\n            placeholder=\"Search\"\n          />\n        </div>\n        <br /> <br />\n        <Table\n          rowSelection={rowSelection}\n          rowKey=\"ifsc\"\n          dataSource={filteredData}\n          columns={userColumns}\n          loading={loading}\n          pagination={\n            <Pagination\n              size=\"small\"\n              showSizeChanger\n              showQuickJumper\n              defaultCurrent={2}\n              total={500}\n              onChange={onChange2}\n            />\n          }\n        />\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}